{"version":3,"sources":["components/common/FormsControls/FormsControls.module.css","components/common/FormsControls/FormsControls.tsx","utils/validators/validators.tsx","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.tsx","components/Profile/ProfileInfo/ProfileDataForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx"],"names":["module","exports","FormControl","meta","touched","error","children","hasError","className","styles","formControl","Textarea","props","input","restProps","Input","createField","placeholder","name","validators","component","text","validate","required","value","maxLengthCreator","maxLength","length","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","autoFocus","onBlur","updateStatus","onChange","e","currentTarget","ProfileDataFormReduxForm","reduxForm","form","handleSubmit","profile","onSubmit","style","formSummaryError","type","contact","Object","keys","contacts","map","key","s","ProfileData","isOwner","goToEditMode","onClick","fullName","lookingForAJob","lookingForAJobDescription","aboutMe","contactc","contactTitle","contactValue","Contact","ProfileInfo","Preloader","descriptionBlock","src","photos","large","userPhoto","mainPhoto","alt","target","files","savePhoto","initialValues","formData","saveProfile","then","Post","item","message","likesCount","MyPosts","React","memo","postsElements","posts","reverse","p","id","createRef","postsBlock","AddNewPostFormRedux","values","addPost","newPostText","maxLength10","Field","MyPostsContainer","connect","state","profilePage","dispatch","addPostActionCreator","Profile","ProfileContainer","userId","this","match","params","authorizedUserId","history","push","getUserProfile","getStatus","refreshProfile","prevProps","prevState","snapshot","Component","compose","auth","isAuth","withRouter"],"mappings":"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","file":"static/js/4.e4ebd2b5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__x4y-b\",\"error\":\"FormsControls_error__2VbGF\",\"formSummaryError\":\"FormsControls_formSummaryError__DfVoe\"};","import React from \"react\"\r\nimport styles from \"./FormsControls.module.css\"\r\nimport {FieldValidatorType} from \"../../../utils/validators/validators\"\r\nimport {Field, WrappedFieldProps} from \"redux-form\"\r\nimport {WrappedFieldMetaProps} from 'redux-form/lib/Field'\r\n\r\ntype FormControlPropsType = {\r\n    meta: WrappedFieldMetaProps\r\n}\r\n\r\nconst FormControl: React.FC<FormControlPropsType> = ({meta: {touched, error}, children}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className={styles.formControl + \" \" + (hasError ? styles.error : \"\")}>\r\n            <div>\r\n                {children}\r\n            </div>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><textarea {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport const Input: React.FC<WrappedFieldProps> = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}><input {...input} {...restProps} /></FormControl>\r\n}\r\n\r\nexport function createField<FormKeysType extends string>(placeholder: string | undefined,\r\n                                                         name: FormKeysType,\r\n                                                         validators: Array<FieldValidatorType>,\r\n                                                         component: React.FC<WrappedFieldProps>,\r\n                                                         props = {}, text = \"\") {\r\n    return <div>\r\n        <Field placeholder={placeholder} name={name}\r\n               validate={validators}\r\n               component={component}\r\n               {...props}\r\n        /> {text}\r\n    </div>\r\n}","export type FieldValidatorType = (value: string) => string | undefined\r\n\r\n\r\nexport const required: FieldValidatorType = (value) => {\r\n    if (value) return undefined;\r\n    return \"Field is required\";\r\n}\r\n\r\n\r\nexport const maxLengthCreator = (maxLength: number): FieldValidatorType => (value) => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n    return undefined;\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionBlock\":\"ProfileInfo_descriptionBlock__35bGy\",\"mainPhoto\":\"ProfileInfo_mainPhoto__1ZueE\",\"contact\":\"ProfileInfo_contact__PcP-6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__1OnL9\",\"posts\":\"MyPosts_posts__B_2z8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item___TXG_\"};","import React, {ChangeEvent, useEffect, useState} from \"react\";\r\n\r\n\r\nconst ProfileStatusWithHooks = (props: any) => {\r\n\r\n    const [editMode, setEditMode] = useState(false);\r\n    const [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(() => {\r\n        setStatus(props.status);\r\n    }, [props.status])\r\n\r\n    const activateEditMode = () => {\r\n        setEditMode(true);\r\n    }\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false);\r\n        props.updateStatus(status);\r\n    }\r\n\r\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        setStatus(e.currentTarget.value)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {!editMode &&\r\n            <div>\r\n                <b>Status: </b><span onDoubleClick={activateEditMode}>{props.status || \"-----\"}</span>\r\n            </div>\r\n            }\r\n            {editMode &&\r\n            <div>\r\n                <input autoFocus={true} onBlur={deactivateEditMode} onChange={onStatusChange} value={status}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ProfileStatusWithHooks;","import React from \"react\";\r\nimport {createField, Input, Textarea} from \"../../common/FormsControls/FormsControls\";\r\nimport {InjectedFormProps, reduxForm} from \"redux-form\";\r\nimport s from \"./ProfileInfo.module.css\";\r\nimport style from \"../../common/FormsControls/FormsControls.module.css\"\r\n\r\ntype PropsType = {\r\n    profile: any\r\n}\r\n\r\nconst ProfileDataForm: React.FC<InjectedFormProps<{ handleSubmit: any, profile: any, error: any }> & PropsType> = ({handleSubmit, profile, error}) => {\r\n    return <form onSubmit={handleSubmit}>\r\n        <div>\r\n            <button>Save</button>\r\n        </div>\r\n        {\r\n            error && <div className={style.formSummaryError}>\r\n                {error}\r\n            </div>\r\n        }\r\n        <div>\r\n            <b>Full Name</b>: {createField(\"Full name\", \"fullName\", [], Input)}\r\n        </div>\r\n        <div>\r\n            <b>Looking for a job</b>: {createField(\"\", \"lookingForAJob\", [], Input, {type: \"checkbox\"})}\r\n        </div>\r\n        <div>\r\n            <b>My professionals\r\n                skills</b>: {createField(\"My professionals skills\", \"lookingForAJobDescription\", [], Textarea)}\r\n        </div>\r\n        <div>\r\n            <b>About me</b>: {createField(\"About me\", \"aboutMe\", [], Textarea)}\r\n        </div>\r\n        <div>\r\n            <b>Contacts</b>: {profile.contact && Object.keys(profile.contacts).map(key => {\r\n            return <div key={key} className={s.contact}>\r\n                <b>{key}: {createField(key, \"contacts.\" + key, [], Input)}</b>\r\n            </div>\r\n        })}\r\n        </div>\r\n    </form>\r\n}\r\n\r\nconst ProfileDataFormReduxForm = reduxForm<any, any>({form: \"edit-profile\"})(ProfileDataForm)\r\n\r\nexport default ProfileDataFormReduxForm;","import React, {useState} from \"react\";\r\nimport s from \"./ProfileInfo.module.css\";\r\nimport Preloader from \"../../common/preloader/Preloader\";\r\nimport {updateStatus} from \"../../../redux/profile-reducer\";\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\nimport userPhoto from \"../../../assets/images/businessperson-computer-icons-avatar-clip-art-avatar.jpg\";\r\nimport ProfileDataForm from \"./ProfileDataForm\";\r\nimport ProfileDataFormReduxForm from \"./ProfileDataForm\";\r\n\r\nconst ProfileInfo = (props: any) => {\r\n\r\n    const [editMode, setEditMode] = useState(false)\r\n\r\n    if (!props.profile) {\r\n        return <Preloader/>\r\n    }\r\n\r\n    const onMainPhotoSelected = (e: any) => {\r\n        if (e.target.files.length) {\r\n            props.savePhoto(e.target.files[0]);\r\n        }\r\n    }\r\n\r\n    const onSubmit = (formData: any) => {\r\n        props.saveProfile(formData)\r\n            .then(() => {\r\n                setEditMode(false);\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={s.descriptionBlock}>\r\n                <img src={props.profile.photos.large || userPhoto} className={s.mainPhoto} alt=\"profile\"/><br/>\r\n                {props.isOwner && <input type={\"file\"} onChange={onMainPhotoSelected}/>}\r\n\r\n                {editMode\r\n                    ? <ProfileDataFormReduxForm initialValues={props.profile} profile={props.profile} onSubmit={onSubmit}/>\r\n                    : <ProfileData goToEditMode={() => {\r\n                        setEditMode(true)\r\n                    }} profile={props.profile} isOwner={props.isOwner}/>}\r\n\r\n                <ProfileStatusWithHooks status={props.status} updateStatus={updateStatus}/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst ProfileData: React.FC<{ profile: any, isOwner: any, goToEditMode: any }> = ({profile, isOwner, goToEditMode}) => {\r\n    return <div>\r\n        {isOwner && <div>\r\n            <button onClick={goToEditMode}>Edit</button>\r\n        </div>}\r\n        <div>\r\n            <b>Full Name</b>: {profile.fullName}\r\n        </div>\r\n        <div>\r\n            <b>Looking for a job</b>: {profile.lookingForAJob ? \"yes\" : \"no\"}\r\n        </div>\r\n        {\r\n            profile.lookingForAJob &&\r\n            <div>\r\n                <b>My professionals skills</b>: {profile.lookingForAJobDescription}\r\n            </div>\r\n        }\r\n        <div>\r\n            <b>About me</b>: {profile.aboutMe}\r\n        </div>\r\n        <div>\r\n            <b>Contacts</b>: {profile.contactc && Object.keys(profile.contacts).map(key => {\r\n            return <Contact key={key} contactTitle={key} contactValue={profile.contacts[key]}/>\r\n        })}\r\n        </div>\r\n    </div>\r\n}\r\n\r\n\r\nconst Contact: React.FC<{ contactTitle: any, contactValue: any }> = ({contactTitle, contactValue}) => {\r\n    return <div className={s.contact}><b>{contactTitle}</b>: {contactValue}</div>\r\n}\r\n\r\nexport default ProfileInfo;","import React from 'react';\r\nimport s from './Post.module.css';\r\n\r\ntype PropsType = {\r\n    message: string,\r\n    likesCount: number,\r\n}\r\n\r\nconst Post = (props: PropsType) => {\r\n    return (\r\n        <div className={s.item}>\r\n            <img src='https://i.pinimg.com/736x/1f/40/8d/1f408d7c2ad61ec6a4c8c28bd851fe85--my-works-mice.jpg'/>\r\n            {props.message}\r\n            <div>\r\n                <span>like</span> { props.likesCount }\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\n\r\nexport default Post;","import React, {RefObject} from 'react';\r\nimport s from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport {TypeMyPosts} from \"../../../redux/store\";\r\nimport {reduxForm, Field} from \"redux-form\";\r\nimport {maxLengthCreator, required} from \"../../../utils/validators/validators\";\r\nimport {Textarea} from \"../../common/FormsControls/FormsControls\";\r\n\r\ntype PropType = {\r\n    posts: Array<TypeMyPosts>\r\n    newPostText?: string\r\n    addPost: (values: string) => void\r\n    updateNewPostText?: (text: any) => void\r\n}\r\n\r\nconst MyPosts = React.memo((props: PropType) => {\r\n\r\n        let postsElements =\r\n            [...props.posts]\r\n                .reverse()\r\n                .map(p => <Post message={p.message}\r\n                                key={p.id}\r\n                                likesCount={p.likesCount}/>)\r\n\r\n        type newPostType = RefObject<any>;\r\n\r\n        let newPostElement: newPostType = React.createRef();\r\n\r\n        let onAddPost = (values: any) => {\r\n            props.addPost(values.newPostText);\r\n        }\r\n\r\n        return (\r\n            <div className={s.postsBlock}>\r\n                <h3>My posts</h3>\r\n                <AddNewPostFormRedux onSubmit={onAddPost}/>\r\n                <div className={s.posts}>\r\n                    {postsElements}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n);\r\n\r\nconst maxLength10 = maxLengthCreator(10);\r\n\r\nlet AddNewPostForm = (props: any) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field name=\"newPostText\"\r\n                       component={Textarea}\r\n                       validate={[required, maxLength10]} placeholder={\"Post message\"}/>\r\n            </div>\r\n            <div>\r\n                <button>Add post</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nlet AddNewPostFormRedux = reduxForm({form: \"ProfileAddNewPostForm\"})(AddNewPostForm);\r\n\r\nexport default MyPosts;","import React from 'react';\r\nimport {addPostActionCreator} from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport {connect} from \"react-redux\";\r\n\r\n// type PropType = {\r\n    // posts: Array<TypeMyPosts>\r\n    // newPostText: string\r\n    // store: any\r\n// }\r\n\r\n\r\nconst mapStateToProps = (state: any) => {\r\n    return {\r\n        posts: state.profilePage.posts,\r\n        newPostText: state.profilePage.newPostText\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch:any) => {\r\n    return {\r\n        addPost: (newPostText: string) => {\r\n            dispatch(addPostActionCreator(newPostText));\r\n        }\r\n    }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;","import React from 'react';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\ntype PropsType = {\r\n    profile: any\r\n    status: any\r\n    updateStatus: any\r\n}\r\n\r\n\r\nconst Profile = (props: any) => {\r\n    return (\r\n        <div>\r\n            <ProfileInfo saveProfile={props.saveProfile} savePhoto={props.savePhoto} isOwner={props.isOwner} profile={props.profile} status={props.status} updateStatus={props.updateStatus}/>\r\n            <MyPostsContainer />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Profile;","import React from 'react';\r\nimport Profile from \"./Profile\";\r\nimport {connect} from \"react-redux\";\r\nimport {getStatus, getUserProfile, savePhoto, saveProfile, updateStatus} from \"../../redux/profile-reducer\";\r\nimport {withRouter, RouteComponentProps} from 'react-router-dom';\r\nimport {compose} from \"redux\";\r\n\r\ntype PathParamsType = {\r\n    userId: any\r\n}\r\n\r\ntype MapStateToPropsType = {\r\n    profile: any\r\n    isAuth: any\r\n    status: string\r\n    updateStatus: string\r\n    savePhoto: any\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    getUserProfile: (userId: number) => void\r\n    getStatus: (userId: string) => void\r\n    authorizedUserId: (userId: string) => void\r\n}\r\n\r\ntype OwnPropsType = MapStateToPropsType & MapDispatchPropsType\r\ntype PropsType = RouteComponentProps<PathParamsType> & OwnPropsType\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId;\r\n        if (!userId) {\r\n            userId = this.props.authorizedUserId;\r\n            if (!userId) {\r\n                this.props.history.push(\"/login\");\r\n            }\r\n        }\r\n        this.props.getUserProfile(userId);\r\n        this.props.getStatus(userId);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile();\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<PropsType>, prevState: Readonly<{}>, snapshot?: any) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId) {\r\n            this.refreshProfile();\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <Profile {...this.props}\r\n                     isOwner={!this.props.match.params.userId}\r\n                     profile={this.props.profile}\r\n                     status={this.props.status}\r\n                     updateStatus={this.props.updateStatus}\r\n                     savePhoto={this.props.savePhoto}\r\n            />\r\n        )\r\n    }\r\n\r\n}\r\n\r\nlet mapStateToProps = (state: any) => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    authorizedUserId: state.auth.userId,\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\nexport default compose<any>(\r\n    connect(mapStateToProps, {getUserProfile, getStatus, updateStatus, savePhoto, saveProfile}),\r\n    withRouter\r\n)(ProfileContainer);"],"sourceRoot":""}